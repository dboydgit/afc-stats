(this["webpackJsonpultimate-stats"]=this["webpackJsonpultimate-stats"]||[]).push([[0],{30:function(e,a,t){e.exports=t(47)},35:function(e,a,t){},36:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(27),s=t.n(l),m=(t(35),t(2)),r=t(8),o=t(10),u=(t(36),t(18));t(40),t(41);function i(){return c.a.createElement("header",{className:"app-header"},c.a.createElement("h1",null,"AFC Premier League Stats"))}function d(e){var a=Object(n.useState)(""),t=Object(m.a)(a,2),l=t[0],s=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement(i,null),c.a.createElement("div",{className:"home-content"},!e.userID&&c.a.createElement("div",{className:"home-form"},c.a.createElement("p",null,"Who is taking stats?"),c.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e.setUserID(l),localStorage.setItem("userID",l)}},c.a.createElement("input",{id:"home-input",type:"text",value:l,onChange:function(e){s(e.target.value)}}),c.a.createElement("button",{className:"btn",type:"submit"},"Start"))),e.userID&&c.a.createElement("div",null,c.a.createElement("p",null,"Welcome, ".concat(e.userID)),c.a.createElement("div",{className:"home-btn-group"},c.a.createElement(r.b,{className:"btn",to:"/stats"},"New Game"),c.a.createElement(r.b,{className:"btn",to:"/teams"},"Teams"),c.a.createElement(r.b,{className:"btn",to:"/games"},"Past Games")))))}function v(){return c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"STATS!"))}var E=t(14),b=function(e){var a=Object(n.useState)(e.player),t=Object(m.a)(a,2),l=t[0],s=t[1];return c.a.createElement("input",{className:"player-card",name:e.ind,value:l,onChange:function(a){s(a.target.value);var t=Object(E.a)(e.teams),n=t.findIndex((function(a){return a.name===e.team.name})),c=parseInt(a.target.name);t[n].players[c]=a.target.value,e.setTeams(t)}})},f=function(e){var a=e.team.players.map((function(a,t){return c.a.createElement(b,{player:a,ind:t,key:t,teams:e.teams,setTeams:e.setTeams,team:e.team})}));return c.a.createElement("div",{className:"player-list"},a)};function p(e){var a=Object(n.useState)(!1),t=Object(m.a)(a,2),l=t[0],s=t[1];return c.a.createElement("div",{className:"team-card"},c.a.createElement("div",{className:"team-name"},c.a.createElement("span",null,"".concat(e.team.name))),c.a.createElement("div",{className:"card-info"},c.a.createElement("span",{className:"gm-name"},"GM: ".concat(e.team.gm)),c.a.createElement("span",{className:"card-link",onClick:function(){s(!l)}},c.a.createElement("span",null,"Players"),!l&&c.a.createElement("i",{className:"material-icons md-18"},"arrow_drop_down"),l&&c.a.createElement("i",{className:"material-icons md-18"},"arrow_drop_up"))),l&&c.a.createElement("div",{className:"card-players"},c.a.createElement(f,{team:e.team,teams:e.teams,setTeams:e.setTeams}),c.a.createElement("button",{className:"btn btn-del",name:e.ind,onClick:e.deleteTeam},"Delete Team"),c.a.createElement("button",{className:"btn",onClick:function(){return e.saveTeams()}},"Save Changes")))}t(46);var g=function(e){var a=e.teams.map((function(a,t){return c.a.createElement(p,{team:a,ind:t,key:a.name,teams:e.teams,setTeams:e.setTeams,saveTeams:e.saveTeams,deleteTeam:e.deleteTeam})}));return c.a.createElement("div",{className:"team-list"},a)};function h(e){var a=e.localDB,t=Object(n.useState)(""),l=Object(m.a)(t,2),s=l[0],r=l[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),i=u[0],d=u[1],v=Object(n.useState)(["Player1","Player2","Player3","Player4","Player5","Player6","Player7","Player8","Player9","Player10"]),b=Object(m.a)(v,1)[0],f=Object(n.useState)(!1),p=Object(m.a)(f,2),h=p[0],N=p[1],T=function(e){switch(e.target.name){case"team-name":r(e.target.value);break;case"team-gm":d(e.target.value);break;default:console.log("State not updated!")}},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.teams;console.log("Saving Teams"),a.get("team-doc").then((function(e){return e.teams=t,a.put(e)})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))};return c.a.createElement("div",{className:"App"},c.a.createElement(g,{teams:e.teams,setTeams:e.setTeams,saveTeams:j,deleteTeam:function(a){var t=parseInt(a.target.name),n=Object(E.a)(e.teams);n.splice(t,1),e.setTeams(n),j(n)}}),!h&&c.a.createElement("button",{className:"btn",onClick:function(){N(!0)}},"Add Team"),h&&c.a.createElement("div",{className:"add-team-form"},c.a.createElement("label",{htmlFor:"team-name"},"Team Name: "),c.a.createElement("input",{name:"team-name",onChange:T,value:s}),c.a.createElement("label",{htmlFor:"team-gm"},"Team GM: "),c.a.createElement("input",{name:"team-gm",onChange:T,value:i}),c.a.createElement("button",{className:"btn",onClick:function(t){t.preventDefault();var n,c=Object(E.a)(e.teams);c.push({name:s,gm:i,players:b}),e.setTeams(c),n=c,a.get("team-doc").then((function(e){return e.teams=n,a.put(e)})).then((function(e){return console.log(e)})).catch((function(e){"not_found"===e.name?(a.put({_id:"team-doc",teams:n}),console.log("New Team doc created")):console.log(e)})),r(""),d(""),N(!1)}},"Create Team"),c.a.createElement("button",{className:"btn nmt",onClick:function(){return N(!1)}},"Cancel")))}function N(){return c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"GAMES!"))}var T=function(){var e=Object(n.useState)(!0),a=Object(m.a)(e,2),t=a[0],l=a[1],s=Object(n.useState)(localStorage.getItem("userID")||""),i=Object(m.a)(s,2),E=i[0],b=i[1],f=Object(n.useState)(new u.a("".concat("https://db-todo.duckdns.org/db","/ultimate-stats"))),p=Object(m.a)(f,1)[0],g=Object(n.useState)(new u.a("ultimate-stats")),T=Object(m.a)(g,1)[0],j=Object(n.useState)([]),y=Object(m.a)(j,2),O=y[0],S=y[1],k=Object(n.useCallback)((function(){p&&(l(!0),p.allDocs({include_docs:!0}).then((function(e){console.log("Documents fetched"),console.log(e),l(!1),e.rows.forEach((function(e){"team-doc"===e.doc._id&&S(e.doc.teams)}))})))}),[p]);return Object(n.useEffect)((function(){p&&(p.info(),k())}),[p,k]),Object(n.useEffect)((function(){var e;if(!t&&T&&p)return e=T.sync(p,{live:!0,retry:!0,include_docs:!0}).on("change",(function(e){console.log("Database Change"),console.log(e);var a,t=e.change.docs[0];"pull"===e.direction?(a=t,console.log(a),console.log("Updated: ".concat(t._id))):console.log("This was a local change")})).on("active",(function(){return console.log("Sync Active")})).on("error",(function(){return console.log("Database Sync Error")})),function(){e.cancel(),console.log("Sync Cancelled")}}),[t,T,p]),c.a.createElement(r.a,null,c.a.createElement(o.d,null,c.a.createElement(o.b,{path:"/",exact:!0},c.a.createElement(d,{userID:E,setUserID:b,localDB:T})),c.a.createElement(o.b,{path:"/stats"},E?c.a.createElement(v,{userID:E,localDB:T}):c.a.createElement(o.a,{to:"/"})),c.a.createElement(o.b,{path:"/teams"},E?c.a.createElement(h,{teams:O,setTeams:S,localDB:T}):c.a.createElement(o.a,{to:"/"})),c.a.createElement(o.b,{path:"/games"},c.a.createElement(N,null))),c.a.createElement("div",{className:"bottom-nav"},c.a.createElement(r.c,{className:"nav-link",to:"/",exact:!0,activeClassName:"nav-active"},"Home"),c.a.createElement(r.c,{className:"nav-link",to:"/stats",activeClassName:"nav-active"},"Stats"),c.a.createElement(r.c,{className:"nav-link",to:"/teams",activeClassName:"nav-active"},"Teams"),c.a.createElement(r.c,{className:"nav-link",to:"/games",activeClassName:"nav-active"},"Games")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.a1e889f0.chunk.js.map